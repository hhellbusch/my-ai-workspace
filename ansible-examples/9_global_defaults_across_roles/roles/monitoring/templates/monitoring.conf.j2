# Monitoring Configuration
# Generated by Ansible - DO NOT EDIT MANUALLY

# Application: {{ app_name }} v{{ app_version }}
# Environment: {{ environment }}

[global]
scrape_interval = {{ scrape_interval }}
evaluation_interval = {{ evaluation_interval }}

[storage]
data_directory = {{ base_install_dir }}/monitoring/data
retention_time = {{ retention_time }}

[logging]
log_level = {{ log_level }}
log_file = {{ log_dir }}/monitoring.log

[targets]
# Monitor webserver
webserver_endpoint = {{ app_domain }}:{{ webserver_port | default(80) }}
webserver_ssl = {{ enable_ssl | lower }}

# Monitor database
database_endpoint = localhost:{{ db_port | default(5432) }}

[alerting]
{% if send_alerts %}
enabled = true
alert_email = {{ alert_email }}

# Alert thresholds from global config
memory_threshold = {{ memory_limit }}
connection_threshold = {{ max_connections }}
{% else %}
enabled = false
{% endif %}

{% if debug_mode %}
[debug]
verbose_mode = on
trace_logging = on
{% endif %}

[admin]
admin_user = {{ admin_user }}
admin_email = {{ admin_email }}

