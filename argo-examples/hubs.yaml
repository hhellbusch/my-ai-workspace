# List of OpenShift clusters to deploy ArgoCD applications to
# 
# Fields:
#   name: Friendly name for the cluster (used in logs)
#   server: OpenShift API server URL (e.g., https://api.cluster.example.com:6443)
#   argocd_namespace: Namespace where ArgoCD is installed (usually 'argocd')
#   token_secret: Name of the GitHub secret containing the service account token
#   dry_run: (optional) If true, only preview changes without applying (default: false)
#
# Important:
#   - Add corresponding GitHub secrets for each token_secret value
#   - Update the workflow env section when adding new clusters
#   - Clusters are deployed sequentially in the order listed
#   - dry_run can be set per-cluster or overridden via workflow_dispatch input

clusters:
  - name: dev-cluster
    server: https://api.dev.example.com:6443
    argocd_namespace: argocd
    token_secret: OPENSHIFT_TOKEN_DEV
    dry_run: false  # Apply changes to dev
    
  - name: staging-cluster
    server: https://api.staging.example.com:6443
    argocd_namespace: argocd
    token_secret: OPENSHIFT_TOKEN_STAGING
    dry_run: false  # Apply changes to staging
    
  - name: prod-cluster
    server: https://api.prod.example.com:6443
    argocd_namespace: argocd
    token_secret: OPENSHIFT_TOKEN_PROD
    dry_run: false  # Set to true to make prod preview-only

